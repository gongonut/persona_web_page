import{b as de,c as ue,d as me,f as he,g as pe,h as ge,i as _e,j as fe}from"./chunk-RAE3MU4N.js";import{D as b,G as m,H as V,I as ie,J as a,K as l,L as E,M as D,N as x,O as f,Q as k,R as T,S as I,T as h,U as P,V as N,W as $,X as W,Y as H,_ as X,ba as j,c as y,ca as B,ja as oe,ka as re,l as g,la as se,m as _,n as L,o as ee,oa as ae,pa as le,t as te,ta as ce,v as S,w as c,z as ne}from"./chunk-5QHLOJZU.js";var Me=.08333333333333333,Se=1/5,De=1/5;var R=({pixels:i=64e3,distance:e=.22,colorValidator:t=(p,u,v,w)=>(w??255)>250,hueDistance:n=Me,saturationDistance:o=De,lightnessDistance:r=Se,crossOrigin:s="",requestMode:d="cors"}={})=>[Math.max(i,1),Math.min(Math.max(e,0),1),t,Math.min(Math.max(n,0),1),Math.min(Math.max(o,0),1),Math.min(Math.max(r,0),1),s,d],O=class i{constructor(e,t,n,o=e<<16|t<<8|n){this._count=1,this.__saturation=-1,this.__hue=-1,this.__lightness=-1,this.__intensity=-1,this._red=e,this._green=t,this._blue=n,this._hex=o}static distance(e,t){return(Math.abs(t._red-e._red)+Math.abs(t._green-e._green)+Math.abs(t._blue-e._blue))/(3*255)}clone(){let e=new i(this._red,this._green,this._blue,this._hex);return e._count=this._count,e}updateHSL(){let e=this._red/255,t=this._green/255,n=this._blue/255,o=Math.max(e,t,n),r=Math.min(e,t,n);if(this.__lightness=(o+r)/2,o===r)this.__hue=0,this.__saturation=0,this.__intensity=0;else{let s=o-r;switch(this.__saturation=this.__lightness>.5?s/(2-o-r):s/(o+r),this.__intensity=this.__saturation*((.5-Math.abs(.5-this.__lightness))*2),o){case e:this.__hue=((t-n)/s+(t<n?6:0))/6;break;case t:this.__hue=((n-e)/s+2)/6;break;case n:this.__hue=((e-t)/s+4)/6;break}}}get _hue(){return this.__hue===-1&&this.updateHSL(),this.__hue}get _saturation(){return this.__saturation===-1&&this.updateHSL(),this.__saturation}get _lightness(){return this.__lightness===-1&&this.updateHSL(),this.__lightness}get _intensity(){return this.__intensity===-1&&this.updateHSL(),this.__intensity}},z=class{constructor(){this._count=0,this._children={}}addColor(e,t,n,o){return this._count++,this._children[e]?this._children[e]._count++:this._children[e]=new O(t,n,o,e),this._children[e]}getList(){return Object.keys(this._children).map(e=>this._children[e])}createMainColor(){let n=this.getList().reduce((o,r)=>o._count>=r._count?o:r).clone();return n._count=this._count,n}},G=class{constructor(){this._count=0,this._children={}}getList(){return Object.keys(this._children).map(e=>this._children[e])}addColor(e,t,n){let o=e<<16|t<<8|n,r=(e>>4&15)<<8|(t>>4&15)<<4|n>>4&15;return this._count++,this.getLeafGroup(r).addColor(o,e,t,n)}getLeafGroup(e){return this._children[e]||(this._children[e]=new z),this._children[e]}getColors(e){let t=this.getList().map(o=>o.createMainColor());t.sort((o,r)=>r._count-o._count);let n=[];for(;t.length;){let o=t.shift();t.filter(r=>O.distance(o,r)<e).forEach(r=>{o._count+=r._count;let s=t.findIndex(d=>d===r);t.splice(s,1)}),n.push(o)}return n}},K=({data:i,width:e,height:t},n,o,r)=>{let s=new G,d=e&&t&&Math.floor(e*t/n)||1,p=0;for(let u=0;u<i.length;u+=4*d){let v=i[u],w=i[u+1],C=i[u+2],M=i[u+3];r(v,w,C,M)?s.addColor(v,w,C):p++}return{colors:s.getColors(o),count:s._count+p}},F=(i,e)=>Math.abs(i-e),ke=(i,e)=>Math.min(F(i,e),F((i+.5)%1,(e+.5)%1)),q=class{constructor(){this.colors=[],this._average=null}addColor(e){this.colors.push(e),this._average=null}isSamePalette(e,t,n,o){for(let r of this.colors)if(!(ke(r._hue,e._hue)<t&&F(r._saturation,e._saturation)<n&&F(r._lightness,e._lightness)<o))return!1;return!0}get average(){if(!this._average){let{r:e,g:t,b:n}=this.colors.reduce((r,s)=>(r.r+=s._red,r.g+=s._green,r.b+=s._blue,r),{r:0,g:0,b:0}),o=this.colors.reduce((r,s)=>r+s._count,0);this._average=new O(Math.round(e/this.colors.length),Math.round(t/this.colors.length),Math.round(n/this.colors.length)),this._average._count=o}return this._average}},Q=class{constructor(e,t,n){this._groups=[],this._hue=e,this._saturation=t,this._lightness=n}addColor(e){let t=this._groups.find(n=>n.isSamePalette(e,this._hue,this._saturation,this._lightness));if(t)t.addColor(e);else{let n=new q;n.addColor(e),this._groups.push(n)}}getGroups(){return this._groups.map(e=>e.average)}},Te=(i,e,t,n,o)=>{let r=new Q(t,n,o);i.forEach(d=>r.addColor(d));let s=r.getGroups();return s.sort((d,p)=>{let u=(p._intensity+.1)*(.9-p._count/e),v=(d._intensity+.1)*(.9-d._count/e);return u-v}),s},Ie=(i,e)=>({hex:`#${"0".repeat(6-i._hex.toString(16).length)}${i._hex.toString(16)}`,red:i._red,green:i._green,blue:i._blue,area:i._count/e,hue:i._hue,saturation:i._saturation,lightness:i._lightness,intensity:i._intensity}),Ve=()=>typeof window<"u"&&typeof window.document<"u",J=()=>typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",A=()=>typeof window>"u"&&typeof process<"u"&&process.versions!=null&&process.versions.node!=null,Z=(i,e,t,n,o)=>Te(i,e,t,n,o).map(s=>Ie(s,e)),ve=(i,e)=>{let t=i.width*i.height,n=t<e?i.width:Math.round(i.width*Math.sqrt(e/t)),o=t<e?i.height:Math.round(i.height*Math.sqrt(e/t)),s=((d,p)=>{if(J())return new OffscreenCanvas(d,p);let u=document.createElement("canvas");return u.width=d,u.height=p,u})(n,o).getContext("2d");return s.drawImage(i,0,0,i.width,i.height,0,0,n,o),s.getImageData(0,0,n,o)},U=(i,e={})=>{let[t,n,o,r,s,d]=R(e),{colors:p,count:u}=K(i,t,n,o);return Z(p,u,r,s,d)},be=(t,...n)=>y(null,[t,...n],function*(i,e={}){if(A())return[];let[o,r,s,d,p,u,v]=R(e);return i.crossOrigin=v,new Promise(w=>{let C=M=>{let ye=ve(M,o),{colors:Ce,count:Pe}=K(ye,o,r,s);w(Z(Ce,Pe,d,p,u))};if(i.complete)C(i);else{let M=()=>{i.removeEventListener("load",M),C(i)};i.addEventListener("load",M)}})}),Oe=(t,...n)=>y(null,[t,...n],function*(i,e={}){if(A())return[];let[o,r,s,d,p,u]=R(e),v=ve(i,o),{colors:w,count:C}=K(v,o,r,s);return Z(w,C,d,p,u)}),Y=(t,...n)=>y(null,[t,...n],function*(i,e={}){if(A())return[];if(J()){let r=R(e),d=yield(yield fetch(i,{mode:r[7]})).blob(),p=yield createImageBitmap(d),u=yield Oe(p,e);return p.close(),u}let o=new Image;return o.src=i,be(o,e)}),xe=(i,e)=>{if(Ve()){if(i instanceof Image)return be(i,e);if(i instanceof ImageData||i instanceof Object&&i.data)return new Promise(t=>{t(U(i,e))});if(typeof i=="string")return Y(i,e)}if(J()){if(i instanceof ImageData||i instanceof Object&&i.data)return new Promise(t=>{t(U(i,e))});if(typeof i=="string")return Y(i,e);if(i.src)return Y(i.src,e)}if(A())return new Promise(t=>{t(U(i,e))});throw new Error("Can not analyse picture")};var Le=["videoElement"],Ne=["canvasElement"],Fe=["imageElement"],Re=["controlsPanel"],Ae=["toggleButton"],we=()=>({"bg-gray-800 text-white":!0,"bg-white text-black shadow-lg":!1});function $e(i,e){i&1&&(L(),a(0,"svg",18),E(1,"path",19),l())}function We(i,e){i&1&&(L(),a(0,"svg",18),E(1,"path",20),l())}function He(i,e){if(i&1){let t=D();a(0,"button",40),x("click",function(){g(t);let o=f(2);return _(o.captureSnapshot())}),h(1,"Capturar Foto"),l()}}function Xe(i,e){if(i&1&&(a(0,"option",43),h(1),l()),i&2){let t=e.$implicit;m("value",t.deviceId),c(),P(t.label)}}function je(i,e){if(i&1){let t=D();a(0,"div",25)(1,"label",41),h(2,"Seleccionar C\xE1mara"),l(),a(3,"select",42),x("change",function(o){g(t);let r=f(2);return _(r.onCameraChange(o))}),b(4,Xe,2,2,"option",36),l()()}if(i&2){let t=f(2);c(3),m("value",t.selectedDeviceId),c(),m("ngForOf",t.videoDevices)}}function Be(i,e){if(i&1&&(a(0,"option",43),h(1),l()),i&2){let t=e.$implicit;m("value",t.value),c(),P(t.name)}}function Ue(i,e){if(i&1){let t=D();a(0,"div",21,2)(2,"button",22),L(),a(3,"svg",23),E(4,"path",24),l(),ee(),a(5,"span"),h(6,"Extractor de Paletas"),l()(),a(7,"div",25)(8,"p",26),h(9,"Fuente de Imagen"),l(),a(10,"div",27)(11,"label",28),h(12,"Subir Archivo"),l(),a(13,"input",29),x("change",function(o){g(t);let r=f();return _(r.onFileSelected(o))}),l(),a(14,"button",30),x("click",function(){g(t);let o=f();return _(o.toggleWebcam())}),h(15),l()(),b(16,He,2,0,"button",31),l(),b(17,je,5,2,"div",32),a(18,"div",25)(19,"p",26),h(20,"Configuraci\xF3n de An\xE1lisis"),l(),a(21,"div",33)(22,"label",34),h(23,"Modelo de Color"),l(),a(24,"select",35),H("ngModelChange",function(o){g(t);let r=f();return W(r.colorModel,o)||(r.colorModel=o),_(o)}),b(25,Be,2,2,"option",36),l()(),a(26,"div")(27,"label",37),h(28),l(),a(29,"input",38),H("ngModelChange",function(o){g(t);let r=f();return W(r.paletteSize,o)||(r.paletteSize=o),_(o)}),l()()(),a(30,"button",39),x("click",function(){g(t);let o=f();return _(o.analyzeImage())}),h(31,"Analizar Imagen"),l()()}if(i&2){let t=f();m("ngClass",X(9,we)),c(15),P(t.isWebcamOn?"Apagar C\xE1mara":"Usar C\xE1mara"),c(),m("ngIf",t.isWebcamOn),c(),m("ngIf",t.videoDevices.length>1),c(7),$("ngModel",t.colorModel),c(),m("ngForOf",t.colorModelsOptions),c(3),N("Nivel de Detalle (",t.paletteSize," colores)"),c(),$("ngModel",t.paletteSize),c(),m("disabled",!t.imageSrc)}}function Ye(i,e){i&1&&(a(0,"div",44)(1,"p",45),h(2,"Sube una imagen o activa la c\xE1mara"),l()())}function ze(i,e){if(i&1){let t=D();a(0,"div",46)(1,"img",47,3),x("dragstart",function(o){return g(t),_(o.preventDefault())}),l()()}if(i&2){let t=f();V("transform","translate("+t.panX+"px, "+t.panY+"px) scale("+t.scale+")"),c(),m("src",t.imageSrc,te)}}function Ge(i,e){i&1&&E(0,"video",48,4)}function qe(i,e){i&1&&(a(0,"div",49)(1,"p",50),h(2,"Analizando imagen..."),l()())}function Qe(i,e){if(i&1&&(a(0,"div",57),E(1,"div",58),a(2,"p",59),h(3),l()()),i&2){let t=e.$implicit,n=f(2);c(),V("background-color",t.hex),c(2),P(n.colorModel==="rgb"?t.rgb:t.cmyk)}}function Ke(i,e){if(i&1&&(a(0,"div",57),E(1,"div",58),a(2,"p",59),h(3),l()()),i&2){let t=e.$implicit,n=f(2);c(),V("background-color",n.colorModel==="rgb"?t:n.cmykToRgb(t)),c(2),P(t)}}function Je(i,e){if(i&1&&(a(0,"div",57),E(1,"div",58),a(2,"p",59),h(3),l()()),i&2){let t=e.$implicit,n=f(2);c(),V("background-color",n.colorModel==="rgb"?t:n.cmykToRgb(t)),c(2),P(t)}}function Ze(i,e){if(i&1&&(a(0,"div",51)(1,"h3",52),h(2,"Paleta Extra\xEDda"),l(),a(3,"div",53),b(4,Qe,4,3,"div",54),l(),a(5,"h3",52),h(6),j(7,"uppercase"),l(),a(8,"div",55),b(9,Ke,4,3,"div",54),l(),a(10,"h3",52),h(11),j(12,"uppercase"),l(),a(13,"div",56),b(14,Je,4,3,"div",54),l()()),i&2){let t=f();c(4),m("ngForOf",t.colorPalette.extractedColors),c(2),N("Colores Primarios (",B(7,5,t.colorModel),")"),c(3),m("ngForOf",t.colorModel==="rgb"?t.colorPalette.primaryColors.rgb:t.colorPalette.primaryColors.cmyk),c(2),N("Colores Secundarios (",B(12,7,t.colorModel),")"),c(3),m("ngForOf",t.colorModel==="rgb"?t.colorPalette.secondaryColors.rgb:t.colorPalette.secondaryColors.cmyk)}}var Ee=class i{controlsCollapsed=!1;isWebcamOn=!1;imageSrc=null;colorModelsOptions=[{name:"RGB",value:"rgb"},{name:"CMYK",value:"cmyk"}];colorModel="rgb";paletteSize=8;isLoading=!1;colorPalette=null;scale=1;panX=0;panY=0;isPanning=!1;lastPanPosition={x:0,y:0};initialPinchDistance=0;videoElement;canvasElement;imageElement;controlsPanel;toggleButton;stream=null;videoDevices=[];selectedDeviceId="";constructor(){}ngOnDestroy(){this.stopWebcam()}resetView(){this.scale=1,this.panX=0,this.panY=0}onDocumentClick(e){if(this.controlsCollapsed)return;let t=e.target;this.toggleButton?.nativeElement.contains(t)||this.controlsPanel&&!this.controlsPanel.nativeElement.contains(t)&&(this.controlsCollapsed=!0)}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let n=new FileReader;n.onload=o=>{this.imageSrc=o.target?.result,this.colorPalette=null,this.resetView(),this.stopWebcam()},n.readAsDataURL(t.files[0])}}toggleWebcam(){this.isWebcamOn?this.stopWebcam():this.getVideoDevices().then(()=>this.startWebcam())}getVideoDevices(){return y(this,null,function*(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{let e=yield navigator.mediaDevices.enumerateDevices();if(this.videoDevices=e.filter(t=>t.kind==="videoinput"),this.videoDevices.length>0){let t=this.videoDevices.find(n=>n.label.toLowerCase().includes("back")||n.label.toLowerCase().includes("rear"));this.selectedDeviceId=t?t.deviceId:this.videoDevices[0].deviceId}}catch(e){console.error("Error enumerating devices: ",e)}})}startWebcam(e){return y(this,null,function*(){this.imageSrc=null,this.colorPalette=null,this.isWebcamOn=!0,this.resetView(),this.stream&&this.stream.getTracks().forEach(n=>n.stop());let t={video:{}};e?t.video.deviceId={exact:e}:t.video.facingMode="environment";try{this.stream=yield navigator.mediaDevices.getUserMedia(t),this.videoElement&&(this.videoElement.nativeElement.srcObject=this.stream);let n=this.stream.getVideoTracks()[0];n.getSettings().deviceId&&(this.selectedDeviceId=n.getSettings().deviceId)}catch(n){console.error("Error accessing camera: ",n),this.isWebcamOn=!1}})}onCameraChange(e){let t=e.target.value;this.startWebcam(t)}stopWebcam(){this.stream&&this.stream.getTracks().forEach(e=>e.stop()),this.isWebcamOn=!1,this.stream=null}captureSnapshot(){if(this.videoElement&&this.canvasElement){let e=this.videoElement.nativeElement,t=this.canvasElement.nativeElement;t.width=e.videoWidth,t.height=e.videoHeight;let n=t.getContext("2d");n&&(n.drawImage(e,0,0,t.width,t.height),this.imageSrc=t.toDataURL("image/png"),this.colorPalette=null,this.resetView(),this.stopWebcam())}}analyzeImage(){return y(this,null,function*(){if(this.imageSrc){this.isLoading=!0,this.colorPalette=null,this.resetView();try{let t=(yield xe(this.imageSrc,{pixels:64e3})).slice(0,this.paletteSize).map(n=>({hex:n.hex,rgb:`rgb(${n.red}, ${n.green}, ${n.blue})`,cmyk:this.rgbToCmyk(n.red,n.green,n.blue)}));this.colorPalette={primaryColors:{rgb:["rgb(255, 0, 0)","rgb(0, 255, 0)","rgb(0, 0, 255)"],cmyk:["cmyk(0, 100, 100, 0)","cmyk(100, 0, 100, 0)","cmyk(100, 100, 0, 0)"]},secondaryColors:{rgb:["rgb(255, 255, 0)","rgb(255, 0, 255)","rgb(0, 255, 255)"],cmyk:["cmyk(0, 0, 100, 0)","cmyk(0, 100, 0, 0)","cmyk(100, 0, 0, 0)"]},extractedColors:t}}catch(e){console.error("Error al extraer la paleta de colores:",e)}finally{this.isLoading=!1}}})}onMouseDown(e){e.button!==0||!this.imageSrc||(this.isPanning=!0,this.lastPanPosition={x:e.clientX,y:e.clientY},e.preventDefault())}onMouseMove(e){if(!this.isPanning)return;let t=e.clientX-this.lastPanPosition.x,n=e.clientY-this.lastPanPosition.y;this.panX+=t,this.panY+=n,this.lastPanPosition={x:e.clientX,y:e.clientY}}onMouseUp(){this.isPanning=!1}onWheel(e){if(!this.imageSrc)return;e.preventDefault();let t=1.1,n={x:e.offsetX,y:e.offsetY},o=e.deltaY<0?this.scale*t:this.scale/t,r=o/this.scale;this.panX=n.x-(n.x-this.panX)*r,this.panY=n.y-(n.y-this.panY)*r,this.scale=o}onTouchStart(e){this.imageSrc&&(e.preventDefault(),e.touches.length===1?(this.isPanning=!0,this.lastPanPosition={x:e.touches[0].clientX,y:e.touches[0].clientY}):e.touches.length===2&&(this.isPanning=!1,this.initialPinchDistance=this.getDistance(e.touches)))}onTouchMove(e){if(this.imageSrc){if(e.preventDefault(),e.touches.length===1&&this.isPanning){let t=e.touches[0].clientX-this.lastPanPosition.x,n=e.touches[0].clientY-this.lastPanPosition.y;this.panX+=t,this.panY+=n,this.lastPanPosition={x:e.touches[0].clientX,y:e.touches[0].clientY}}else if(e.touches.length===2){if(this.initialPinchDistance<=0)return;let t=this.getDistance(e.touches),n=t/this.initialPinchDistance,o=e.target.getBoundingClientRect(),r={x:(e.touches[0].clientX+e.touches[1].clientX)/2-o.left,y:(e.touches[0].clientY+e.touches[1].clientY)/2-o.top};this.panX=r.x-(r.x-this.panX)*n,this.panY=r.y-(r.y-this.panY)*n,this.scale*=n,this.initialPinchDistance=t}}}onTouchEnd(e){this.isPanning=!1,e.touches.length<2&&(this.initialPinchDistance=0)}getDistance(e){let t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+n*n)}rgbToCmyk(e,t,n){if(e===0&&t===0&&n===0)return"cmyk(0, 0, 0, 100)";let o=1-e/255,r=1-t/255,s=1-n/255,d=Math.min(o,r,s);return o=(o-d)/(1-d)*100,r=(r-d)/(1-d)*100,s=(s-d)/(1-d)*100,`cmyk(${Math.round(o)}, ${Math.round(r)}, ${Math.round(s)}, ${Math.round(d*100)})`}cmykToRgb(e){let t=e.substring(5,e.length-1).split(",").map(v=>parseInt(v,10)),[n,o,r,s]=t.map(v=>v/100),d=255*(1-n)*(1-s),p=255*(1-o)*(1-s),u=255*(1-r)*(1-s);return`rgb(${Math.round(d)}, ${Math.round(p)}, ${Math.round(u)})`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=ne({type:i,selectors:[["app-palette-extractor"]],viewQuery:function(t,n){if(t&1&&(k(Le,5),k(Ne,5),k(Fe,5),k(Re,5),k(Ae,5)),t&2){let o;T(o=I())&&(n.videoElement=o.first),T(o=I())&&(n.canvasElement=o.first),T(o=I())&&(n.imageElement=o.first),T(o=I())&&(n.controlsPanel=o.first),T(o=I())&&(n.toggleButton=o.first)}},hostBindings:function(t,n){t&1&&x("click",function(r){return n.onDocumentClick(r)},!1,S)("mousemove",function(r){return n.onMouseMove(r)},!1,S)("mouseup",function(){return n.onMouseUp()},!1,S)("touchmove",function(r){return n.onTouchMove(r)},!1,S)("touchend",function(r){return n.onTouchEnd(r)},!1,S)},decls:16,vars:14,consts:[["toggleButton",""],["canvasElement",""],["controlsPanel",""],["imageElement",""],["videoElement",""],[1,"relative","w-full","h-screen","bg-gray-100","dark:bg-gray-900","text-gray-900","dark:text-white","flex"],[1,"absolute","top-4","left-4","z-20"],[1,"bg-opacity-75","p-2","rounded-full","mb-2",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","bg-opacity-75 p-4 rounded-lg w-80",3,"ngClass",4,"ngIf"],[1,"flex-1","flex","flex-col","items-center","justify-center","p-4","ml-0","md:ml-80"],[1,"w-full","max-w-4xl","h-96","mb-4","bg-gray-700","rounded-lg","shadow-lg","overflow-hidden","relative",3,"wheel","mousedown","touchstart","touchmove","touchend"],["class","flex items-center justify-center h-full",4,"ngIf"],["class","absolute top-0 left-0 w-full h-full",3,"transform",4,"ngIf"],["autoplay","","playsinline","","class","w-full h-full object-cover",4,"ngIf"],["class","flex items-center justify-center h-96",4,"ngIf"],["class","w-full max-w-4xl bg-gray-800 p-4 rounded-lg shadow-lg",4,"ngIf"],[1,"hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-opacity-75","p-4","rounded-lg","w-80",3,"ngClass"],["routerLink","/",1,"flex","items-center","text-lg","font-bold","mb-4","w-full","text-left","p-2","rounded-lg","shadow-md","bg-gray-700","hover:bg-gray-600","text-white"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"mb-4"],[1,"font-bold","mb-2"],[1,"flex","space-x-2"],["for","image-upload",1,"flex-1","bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","cursor-pointer","inline-block","text-center"],["id","image-upload","type","file","accept","image/*",1,"hidden",3,"change"],[1,"flex-1","bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded",3,"click"],["class","w-full mt-2 bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded",3,"click",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"mb-2"],["for","color-model",1,"block","mb-1"],["id","color-model",1,"w-full","rounded","py-1","px-2","bg-gray-700","border","border-gray-600",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","palette-detail",1,"block","mb-1"],["id","palette-detail","type","range","min","2","max","12",1,"w-full",3,"ngModelChange","ngModel"],[1,"w-full","bg-purple-600","hover:bg-purple-800","text-white","font-bold","py-2","px-4","rounded","disabled:bg-gray-500","disabled:cursor-not-allowed",3,"click","disabled"],[1,"w-full","mt-2","bg-indigo-500","hover:bg-indigo-700","text-white","font-bold","py-2","px-4","rounded",3,"click"],["for","cameraSelect",1,"block","mb-1"],["id","cameraSelect",1,"w-full","rounded","py-1","px-2","bg-gray-700","border","border-gray-600",3,"change","value"],[3,"value"],[1,"flex","items-center","justify-center","h-full"],[1,"text-gray-400"],[1,"absolute","top-0","left-0","w-full","h-full"],[1,"w-full","h-full","object-contain",3,"dragstart","src"],["autoplay","","playsinline","",1,"w-full","h-full","object-cover"],[1,"flex","items-center","justify-center","h-96"],[1,"text-gray-500"],[1,"w-full","max-w-4xl","bg-gray-800","p-4","rounded-lg","shadow-lg"],[1,"text-xl","font-bold","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-6","gap-4","mb-6"],["class","flex flex-col items-center",4,"ngFor","ngForOf"],[1,"grid","grid-cols-3","gap-4","mb-6"],[1,"grid","grid-cols-3","gap-4"],[1,"flex","flex-col","items-center"],[1,"w-20","h-20","rounded-md","mb-2","shadow-md"],[1,"font-mono","text-sm","text-center"]],template:function(t,n){if(t&1){let o=D();a(0,"div",5)(1,"div",6)(2,"button",7,0),x("click",function(){return g(o),_(n.controlsCollapsed=!n.controlsCollapsed)}),b(4,$e,2,0,"svg",8)(5,We,2,0,"svg",8),l(),b(6,Ue,32,10,"div",9),l(),a(7,"div",10)(8,"div",11),x("wheel",function(s){return g(o),_(n.onWheel(s))})("mousedown",function(s){return g(o),_(n.onMouseDown(s))})("touchstart",function(s){return g(o),_(n.onTouchStart(s))})("touchmove",function(s){return g(o),_(n.onTouchMove(s))})("touchend",function(s){return g(o),_(n.onTouchEnd(s))}),b(9,Ye,3,0,"div",12)(10,ze,3,3,"div",13)(11,Ge,2,0,"video",14),l(),b(12,qe,3,0,"div",15)(13,Ze,15,9,"div",16),l(),E(14,"canvas",17,1),l()}t&2&&(c(2),m("ngClass",X(13,we)),c(2),m("ngIf",n.controlsCollapsed),c(),m("ngIf",!n.controlsCollapsed),c(),m("ngIf",!n.controlsCollapsed),c(2),ie("cursor-grab",n.imageSrc)("cursor-grabbing",n.isPanning),c(),m("ngIf",!n.imageSrc&&!n.isWebcamOn),c(),m("ngIf",n.imageSrc),c(),m("ngIf",n.isWebcamOn),c(),m("ngIf",n.isLoading),c(),m("ngIf",n.colorPalette&&!n.isLoading))},dependencies:[le,oe,re,se,ae,ce,fe,ge,_e,de,he,pe,ue,me],styles:["input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background:transparent;cursor:pointer;width:100%}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{background:#4a5568;height:.5rem;border-radius:.5rem}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;margin-top:-4px;background-color:#a0aec0;height:1.25rem;width:1.25rem;border-radius:50%;border:2px solid #4a5568}input[type=range][_ngcontent-%COMP%]:focus::-webkit-slider-thumb{outline:3px solid #a0aec0;outline-offset:.125rem}input[type=range][_ngcontent-%COMP%]::-moz-range-track{background:#4a5568;height:.5rem;border-radius:.5rem}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{background-color:#a0aec0;height:1.25rem;width:1.25rem;border-radius:50%;border:2px solid #4a5568}input[type=range][_ngcontent-%COMP%]:focus::-moz-range-thumb{outline:3px solid #a0aec0;outline-offset:.125rem}"]})};export{Ee as PaletteExtractorComponent};
